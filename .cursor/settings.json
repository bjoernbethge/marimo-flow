{
  // === Editor Settings ===
  "editor.formatOnSave": true,
  "editor.formatOnPaste": false,
  "editor.tabSize": 4,
  "editor.insertSpaces": true,

  // === Python Settings ===
  "[python]": {
    "editor.defaultFormatter": "ms-python.black-formatter",
    "editor.formatOnSave": true,
    "editor.codeActionsOnSave": {
      "source.organizeImports": "explicit"
    }
  },

  // === Marimo Extension Settings ===
  "marimo.browserType": "embedded",
  "marimo.autoStartServer": true,
  "marimo.pythonPath": "${workspaceFolder}/.venv/bin/python",
  "marimo.port": 2718,

  // === Python Interpreter Settings ===
  "python.defaultInterpreterPath": "${workspaceFolder}/.venv/bin/python",
  "python.terminal.activateEnvironment": true,
  "python.analysis.typeCheckingMode": "basic",
  "python.analysis.autoImportCompletions": true,
  "python.analysis.diagnosticMode": "workspace",
  "python.analysis.extraPaths": [
    "${workspaceFolder}",
    "${workspaceFolder}/src",
    "${workspaceFolder}/snippets"
  ],

  // === Black Formatter ===
  "black-formatter.args": ["--line-length=79"],

  // === Ruff Linter ===
  "ruff.lint.args": ["--line-length=79"],

  // === Files ===
  "files.exclude": {
    "**/__pycache__": true,
    "**/*.pyc": true,
    "**/.pytest_cache": true,
    "**/.mypy_cache": true,
    "**/.ruff_cache": true,
    "**/mlruns": true,
    "**/.marimo": true
  },

  "files.watcherExclude": {
    "**/.git/objects/**": true,
    "**/.git/subtree-cache/**": true,
    "**/node_modules/**": true,
    "**/.venv/**": true,
    "**/data/mlflow/**": true
  },

  // === Cursor AI Settings ===
  "cursor.aiReview": true,
  "cursor.chat.model": "claude-sonnet-4.5",
  "cursor.cpp.disabledLanguages": [],

  // === Cursor Rules for marimo-flow ===
  // These rules guide Cursor's AI when working with this codebase
  "cursor.rules": [
    "This is a marimo-flow project - reactive ML notebooks with MLflow tracking",
    "Prefer Polars over Pandas for data operations (better performance)",
    "Use Altair for declarative visualizations, Plotly for 3D plots",
    "All notebooks are in examples/ as .py files (marimo format)",
    "Reusable code goes in snippets/ directory",
    "Always check MLflow for existing experiments before creating new ones",
    "Marimo cells must be idempotent - no hidden state",
    "Use unique variable names to avoid reactivity conflicts",
    "Include type hints and NumPy-style docstrings",
    "Format with Black, line length 79",
    "Test with: uv run pytest",
    "Start dev environment with: ./scripts/start-dev.sh",
    "MCP servers: marimo (notebooks), context7 (docs), mlflow (tracking)"
  ],

  // === Search Settings ===
  "search.exclude": {
    "**/node_modules": true,
    "**/bower_components": true,
    "**/.venv": true,
    "**/data/mlflow": true,
    "**/__pycache__": true,
    "**/.pytest_cache": true
  },

  // === Terminal ===
  "terminal.integrated.defaultProfile.linux": "bash",
  "terminal.integrated.env.linux": {
    "MLFLOW_TRACKING_URI": "http://localhost:5000"
  },

  // === Testing ===
  "python.testing.pytestEnabled": true,
  "python.testing.unittestEnabled": false,
  "python.testing.pytestArgs": [
    "tests"
  ]
}
